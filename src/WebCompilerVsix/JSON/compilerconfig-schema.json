{
	"$schema": "http://json-schema.org/draft-04/schema",
	"description": "Schema for bundleconfig.json files",

	"type": "array",

	"definitions": {
		"cssOptions": {
			"type": "object",
			"properties": {
				"evalTreatment": {
					"enum": [ "none", "hacks", "important" ]
				},
				"termSemicolons": {
					"type": "boolean"
				}
			}
		},

		"lessOptions": {
			"properties": {
				"inputFile": {
					"pattern": "\\.less$"
				},
				"options": {
					"properties": {
						"strictMath": {
							"type": "boolean"
						},
						"keepFirstSpecialComment": {
							"type": "boolean"
						},
						"disableColorcCompression": {
							"type": "boolean"
						},
						"disableVariableRedefines": {
							"type": "boolean"
						}
					}
				},
				"minify": {
					"$ref": "#/definitions/cssOptions"
				}
			}
		},

		"sassOptions": {
			"properties": {
				"inputFile": {
					"pattern": "\\.scss$"
				},
				"options": {
					"properties": {
						"outputStyle": {
							"enum": [ "nested", "expanded", "compact", "compressed", "echo" ],
							"default": "nested"
						},
						"includeSourceComments": {
							"type": "boolean",
							"default": false
						},
						"precision": {
							"type": "integer",
							"default": 5
						}
					}
				},
				"minify": {
					"$ref": "#/definitions/cssOptions"
				},
				"sourceMap": {
					"description": "Set to true to automatically create a .map file. Only works for .scss files.",
					"type": "boolean"
				}
			}
		},

		"coffeeScriptOptions": {
			"properties": {
				"inputFile": {
					"pattern": "\\.coffee$"
				},
				"options": {
					"properties": {
						"bare": {
							"type": "boolean"
						},
						"globals": {
							"type": "boolean"
						}
					}
				},
				"minify": {
					"type": "object",
					"properties": {
						"preserveImportantComments": {
							"type": "boolean"
						},
						"evalTreatment": {
							"enum": [ "ignore", "makeAllSafe", "makeImmediateSafe" ]
						},
						"termSemicolons": {
							"type": "boolean"
						}
					}
				}
			}
		},

		"config": {
			"required": [ "outputFile", "inputFile" ],

			"properties": {
				"outputFile": {
					"description": "The relative path to the desired output file name.",
					"type": "string",
					"format": "uri",
					"minLength": 1
				},
				"inputFile": {
					"description": "One or more relative file names to bundle.",
					"type": "string",
					"format": "bundle_relativepath"
				},
				"minify": {
					"description": "Specify options for minification of the output file.",
					"type": "object",
					"required": [ "enabled" ],

					"properties": {
						"enabled": {
							"type": "boolean"
						}
					}
				},
				"includeInProject": {
					"description": "Set to true to include the output file in the project. Doesn't work in some Visual Studio project types like ASP.NET 5 applications.",
					"type": "boolean",
					"default": true
				},
				"options": {
					"description": "Specify options for the compiler.",
					"type": "object"
				}
			},

			"oneOf": [
				{ "$ref": "#/definitions/lessOptions" },
				{ "$ref": "#/definitions/sassOptions" },
				{ "$ref": "#/definitions/coffeeScriptOptions" }
			]
		}
	},

	"items": {
		"$ref": "#/definitions/config"
	}
}